<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <title>Application Callbacks Over Time</title>
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    </head>
    <body style="font-family: sans-serif; margin: 40px;">
        <h2>Application Callbacks Over Time</h2>
        <div id="plot" style="width:100%;height:600px;"></div>

        <script>
            const data = {{ graph_data|tojson }};
            const traces = data.series.map(s => ({
                x: data.timestamps,
                y: s.values,
                mode: 'lines+markers',
                name: s.name
            }));

            const layout = {
                title: 'Log Entries Per Application',
                xaxis: { title: 'Time' },
                yaxis: { title: 'Count' },
                hovermode: 'x unified'
            };

            Plotly.newPlot('plot', traces, layout);
        </script>
    </body>
</html>